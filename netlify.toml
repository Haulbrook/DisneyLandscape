[build]
  command = "npm run build"
  publish = "dist"

[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

[build.environment]
  NODE_VERSION = "18"

[functions]
  directory = "netlify/functions"
  # Set default timeout for all functions (Netlify Pro max is 26 seconds)
  timeout = 26

# Function-specific configuration
[functions."generate-image"]
  # Maximum timeout for Pro plan (DALL-E 3 needs ~15-25 seconds)
  timeout = 26
